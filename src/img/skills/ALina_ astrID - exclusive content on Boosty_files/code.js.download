var _tmr=_tmr||[];
(function(){function s(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function L(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)}function nb(a,b){try{if(a.nodeName.toLowerCase()===b.toLowerCase())return a;if(a.parentNode)return nb(a.parentNode,b)}catch(c){p&&console.warn("[TopMailRu] Error#1.25",c)}return null}function ob(a,b){if(null===a.offsetParent||(0==a.offsetHeight||0==a.offsetWidth||0==a.clientHeight||
0==a.clientWidth)||b&&(0==a.offsetLeft||0==a.offsetTop))return!1;if(void 0!==f.getComputedStyle){var c=f.getComputedStyle(a,null);return"none"!==c.display&&"hidden"!==c.visibility}return!0}function ia(a,b){for(var c=0,d=b.length;c<d;c++)if(b[c]==a)return!0;return!1}function N(a){var b=typeof a;return!("number"===b||"boolean"===b||"string"===b||a.nodeType||a===a.window)}function V(a){return"[object Array]"===Object.prototype.toString.call(a)}function W(){var a=arguments,b=a[0]||{},c=!1,d=1,e=a.length,
l,g,h,m,f;"boolean"===typeof b&&(c=b,b=a[d++]||{});for(N(b)||(b={});d<e;d++)if(null!=(l=a[d]))for(g in l)h=b[g],m=l[g],b!==m&&(c&&m&&(N(m)||(f=V(m)))?(f?(f=!1,h=h&&V(h)?h:[]):h=h&&N(h)?h:{},b[g]=W(c,h,m)):void 0!==m&&(b[g]=m));return b}function Vb(a,b,c){if(!a)return null;var d=a.match(b),e=2<arguments.length?c:0;return d&&d.length>e?d[e]:null}function pb(a){return(""+a).replace(/[\/\^\$\*\+\?\.\|\(\)\[\]\{\}\\]/g,"\\$&")}function qb(a){var b="";try{var c=new Uint8Array(a);f.crypto.getRandomValues(c);
for(var d=0;d<a;d++)b+=(c[d]%16).toString(16)}catch(e){b="";for(d=0;d<a;d++)c=Math.floor(16*Math.random()),b+=c.toString(16)}return b}function A(){return(new Date).getTime()}function I(a,b){var c={data:b,raw:a,url:Ra(a)},d;d=!0;if("function"!==typeof navigator.sendBeacon)d=!1;else{c.dataSplitter=";";var e=Sa(c);try{d=!0===navigator.sendBeacon(c.url,e)}catch(l){d=!1}}d||(void 0===b?(c.dataSplitter=";",c.open=Wb,c.connect=Xb,c.startListen=Yb,c.stopListen=Zb,c.open(c),c.connect(c)):("function"===typeof f.XMLHttpRequest?
(c.dataSplitter=";",c.open=$b,c.connect=ac,c.startListen=bc,c.stopListen=cc,c.open(c),c.connect(c),d=!0):d=!1,d||dc(c)))}function dc(a){var b=k.createElement("iframe"),c=k.createElement("div");c.setAttribute("style","position: absolute !important; top: -9999px !important; left: -9999px !important; width: 1px !important; height: 1px !important;");c.appendChild(b);k.body.appendChild(c);try{var d=b.contentWindow.document,e=d.createElement("div"),l;for(l in a.data)if(a.data.hasOwnProperty(l)){var g=a.data[l],
h=typeof g;if("string"===h||"number"===h){var m=d.createElement("input");m.setAttribute("type","hidden");m.setAttribute("name",l);m.value=g;e.appendChild(m)}}var f=d.createElement("form");f.setAttribute("action",a.url);f.setAttribute("method",rb);f.setAttribute("enctype",sb);f.appendChild(e);var n=d.createElement("div");n.appendChild(f);d.body.appendChild(n);var x=function(){try{L(b,"load",x),k.body.removeChild(c)}catch(a){p&&console.warn("[TopMailRu] Error#1.2",a)}};s(b,"load",x);f.submit()}catch(t){p&&
console.warn("[TopMailRu] Error#1.3",t)}}function $b(a){a._connection=new f.XMLHttpRequest}function ac(a){a._connection.open(rb,a.url);a._connection.setRequestHeader("Content-Type",sb);a._connection.send(Sa(a))}function bc(a){s(a._connection,"load",a._onload);s(a._connection,"error",a._onerror)}function cc(a){L(a._connection,"load",a._onload);L(a._connection,"error",a._onerror)}function Wb(a){a._connection=new Image}function Xb(a){a._connection.src=a.url+Sa(a)}function Yb(a){a._connection.onload=
a._onload;a._connection.onerror=a._onerror}function Zb(a){a._connection.onload=null;a._connection.onerror=null}function Sa(a){var b=a.data;a=a.dataSplitter||";";var c="",d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d],l=typeof e;if("string"===l||"number"===l)c+=a+escape(d)+"="+escape(e)}return c}function Ra(a){return"https://top-fwz1.mail.ru"+a}function X(a){return(a=k.cookie.match(RegExp("(?:^|; )"+a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(a[1]):null}function ra(a,
b,c){c=c||{};var d=c.expires;"number"===typeof c.expires&&(d=new Date,d.setTime(d.getTime()+c.expires));d&&d.toUTCString&&(d=d.toUTCString());c.expires=d;a=a+"="+encodeURIComponent(b);for(var e in c)if((b=c[e])||0===b)a+="; "+e,!0!==b&&(a+="="+b);k.cookie=a}function Ta(a,b){var c=b||{};c.expires=-1;ra(a,"",c)}function ec(){var a="tmr"+(""+Math.random()).slice(2);try{return ja=f.localStorage||null,ja.setItem(a,a),ja.removeItem(a),!0}catch(b){return ja=null,p&&console.warn("[TopMailRu] Error#1.4",b),
!1}}function Ia(a){try{return ja.getItem(a)}catch(b){p&&console.warn("[TopMailRu] Error#1.5",b)}return null}function Ja(a,b){try{ja.setItem(a,b)}catch(c){p&&console.warn("[TopMailRu] Error#1.6",c)}}function fc(){if(!ka)return null;for(var a=y.hostname.split(".").reverse(),b,c=1,d=a.length;c<d;c++){b=a[0];for(var e=1;e<=c;e++)b=a[e]+"."+b;var e=""+A(),l={domain:b,path:"/",expires:3E5};try{ra("tmr_tcdhn",e,l);var g=X("tmr_tcdhn");Ta("tmr_tcdhn",l);if(g===e)return b}catch(h){p&&console.warn("[TopMailRu] Error#1.8",
h)}}return null}function ub(a,b){ka&&ra(a,b,Ua);na&&Ja(a,b)}function vb(a){var b=k.createElement("script");b.type="text/javascript";b.async=!0;b.src=a;document.body.appendChild(b)}function wb(a){var b=";e="+escape("detect");I(K(a,"/tracker",!1,!1)+b)}function xb(a,b){if(a.length&&null!==b.ecom_data){var c=va(b.ecom_data),c=c?(""+c).substring(1,c.length-1):"";if(!(4096<c.length||-1===c.search(/\S/))){var d=Va("_m",b.ecom_method),e=Va("_t",b.ecom_type),l=Va("_jst",yb()),c="{"+c+d+e+l+"}";I(K({id:a[0]},
"/datalayer",!1,!0)+(";ids="+escape(a.join()))+(";e="+escape(c)))}}}function Va(a,b){var c=',"'+a+'":';if(!b||!b.length)return c+"[]";try{return c+'["'+b.join('","')+'"]'}catch(d){}return c+"false"}function gc(){var a=X(zb);if(null===a)return null;a=a.split("|");if(3!==a.length)return null;var b=a[2],b=A()-b;return 0>b||b>Ab?null:{id:a[0],version:a[1]}}function Bb(a){Wa=!0;a.length&&vb(Ra("/js/dyn-goal-config.js?ids="+a.join(",")))}function n(){}function sa(a){a&&"object"===typeof a&&(!Y&&"id"in a)&&
(Y=a.id)}function hc(a){return(a=!aa?void 0:aa[a])&&Xa?a-Xa:void 0}function Cb(){if(aa){for(var a=0,b="domInteractive domContentLoadedEventStart domContentLoadedEventEnd domComplete loadEventStart loadEventEnd".split(" "),c=0;c<b.length;c++){var d=!aa?void 0:aa[b[c]];if(0<d&&(d<a||0==a))a=d}return a?a:void 0}}function Z(a,b){var c=1<arguments.length?b:Y;return a&&"object"===typeof a&&("id"in a&&a.id||c)}function K(a,b,c,d){na&&Ja(wa,++Q);var e="id"in a?a.id:Y,l="url"in a?a.url:y.href,g="referrer"in
a?a.referrer:k.referrer,h="title"in a?a.title:k.title,m;m=Ya;null===m&&(m=ic());m=null!==m?m?1:0:null;var n="userid"in a?a.userid:M||0===M?M:void 0,tb=oa?oa:void 0,x;x=la&&a.bfCache;var t="pageView"===a.type&&a.timespent,q=[];Y&&e!==Y&&q.push("sec");"dataLayer"in f&&q.push("dl");D&&q.push(["ecom"].concat(D).join("-"));var r=jc();r&&r.length&&q.push(["jst"].concat(r).join("-"));x&&q.push("bfc");R&&t&&q.push("ts");pa&&q.push("gl="+pa);x=q.join(",");r=f.screen;t=(new Date).getTimezoneOffset();q="";if(f.Intl)try{q=
f.Intl.DateTimeFormat().resolvedOptions().timeZone||""}catch(xa){p&&console.warn("[TopMailRu] Error#1.1",xa)}q=t+"/"+q;t=Db;t=null!==t?t:gc();a.start=Cb();b=b+"?js=13"+(e?";id="+escape(e):"")+(l?";u="+escape(l):"")+(g?";r="+escape(g):"")+(a.start?";st="+escape(a.start):"")+("gender"in a?";gender="+escape(a.gender):"")+("age"in a?";age="+escape(a.age):"")+("pid"in a?";pid="+escape(a.pid):"")+(void 0!==n?";userid="+escape(n):"")+(void 0!==tb?";uparams="+escape(va(tb)):"")+(d&&h?";title="+encodeURIComponent(h):
"")+(r?";s="+r.width+"*"+r.height:"")+";vp=";e=d=0;k.documentElement&&(k.documentElement.clientWidth||k.documentElement.clientHeight)?(d=k.documentElement.clientWidth,e=k.documentElement.clientHeight):"number"==typeof f.innerWidth&&(d=f.innerWidth,e=f.innerHeight);b=b+(""+d+"*"+e)+";touch="+kc+";hds="+lc+";frame="+mc+";flash=";if(null===ya)if(ya="",C.plugins&&C.plugins["Shockwave Flash"])ya=C.plugins["Shockwave Flash"].description.split(" ")[2];else if(f.ActiveXObject)try{var v=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),
v=v.GetVariable("$version"),v=v.split(" ")[1].split(",");ya=v[0]+"."+v[1]}catch(nc){p&&console.warn("[TopMailRu] Error#1.12",nc)}v=b+ya+";sid="+Za+";ver="+oc+";tz="+encodeURIComponent(q);if(c){if(!aa||!$a)c="";else{c=[];c.push($a.type);c.push($a.redirectCount);c.push(Xa);for(b=0;b<Eb.length;b++)c.push(hc(Eb[b]));c=c.join("/")}c=";nt="+c}else c="";c=v+c+(Ka?";gl="+Ka:"")+("device"in a?";device="+escape(a.device):"")+";ni=";if(!C||!C.connection)v="";else{v=C.connection;b=[];for(e=0;e<Fb.length;e++){d=
v[Fb[e]];if(void 0!==d)switch(d){case !0:d=1;break;case !1:d=0;break;default:d=(""+d).replace(/\//g,"_")}b.push(d)}v=b.join("/")}return c+v+("params"in a?";params="+escape(va(a.params)):"")+(null!==m?";detect="+m:"")+(ka||na?";lvid="+escape([za,A(),Q,ba].join(":")):"")+(x?";opts="+escape(x):"")+(t?";flocid="+escape(t.id)+";flocv="+escape(t.version):"")+("version"in a?";appver="+escape(a.version):"")+(ca.support?";visible="+ca.getValue():"")+";_="+Math.random()}function Gb(a){a=";e="+escape("PVT/"+
a);for(var b=0;b<E.length;b++)I(K(E[b],"/tracker",!1,!0)+a)}function pc(){Ya=!0;Hb(1);if(!ab&&!Aa){Aa=!0;for(var a=0;a<E.length;a++)wb(E[a])}}function qc(){Hb(0);Ya=!1}function ic(){var a=X(Ib);if(null===a)return null;a=a.split("|");if(2!==a.length)return null;var b=a[1],b=A()-b;if(0>b||b>Jb)return null;a=parseInt(a[0],10);return isNaN(a)?null:a}function Hb(a){var b=A();a=[a,b].join("|");ra(Ib,a,{path:"/",expires:Jb})}function rc(){sc||(F.pvt2=setTimeout(function(){Gb(2)},2E3));tc||(F.pvt15=setTimeout(function(){Gb(15)},
15E3))}function Kb(){bb||setInterval(function(){_tmr.beat()},6E4)}function uc(a,b,c,d){if(!b||!d||d===cb&&b===cb&&c===cb)return null;b={goal:vc+b,value:c||0,params:{product_id:d}};a&&(b.id=a);return b}function La(){k.addEventListener?(L(k,"DOMContentLoaded",La),_tmr.onready()):k.attachEvent&&"complete"===k.readyState&&(L(k,"readystatechange",La),_tmr.onready());Lb()}function db(a){if(la){if(a.persisted){Ba=Ca=Ma=0;eb=fb=!1;R&&z.launch();a=gb;gb=[];for(var b=0,c=a.length;b<c;b++)_tmr.callbackOnReady(a[b]);
a=Na;Na={};for(b in a)_tmr.pageView(a[b]);Kb()}}else L(f,"load",db);_tmr.onready();_tmr.onload()}function Da(){la||(L(f,"unload",Da),L(f,"beforeunload",Da));_tmr.unload()}function Lb(){R&&z.launch();if(wc){window.addEventListener("message",function(a){var c=null;try{if(c=a.data,N(c)||(c=Mb(c)),"LOAD_BUTTONS_SCRIPT"===c.type){var d,e=(""+c.lang).toLowerCase(),l;a:{a=0;for(var g=hb.length;a<g;a++)if(hb[a]===e){l=!0;break a}l=!1}l||(e=hb[0]);d=Ra("/js/dyn-goal-wizard-"+e+".js");vb(d)}}catch(h){}});if(window.opener)try{window.opener.postMessage({type:"READY"},
document.referrer)}catch(a){}Wa||Bb(Ea)}}if("[object Array]"===Object.prototype.toString.call(_tmr)){var hb=["ru","en"],f=window,C=navigator,k=document,y=location,S="string"===typeof y.hostname?y.hostname:"",Fa=-1!=S.search(/(^|\.)odnoklassniki\.ru$/)||-1!=S.search(/(^|\.)ok\.ru$/),ib=-1!=S.search(/(^|\.)vk\.com$/),xc=-1!=S.search(/(^|\.)mail\.ru$/),yc=-1!=S.search(/(^|\.)lamoda\.ru$/),zc=-1!=S.search(/(^|\.)kommersant\.ru$/);S.search(/(^|\.)top\.mail\.ru$/);S.search(/(^|\.)journal\.tinkoff\.ru$/);
S.search(/(^|\.)dzen\.ru$/);var Ac="string"===typeof y.search&&-1!=y.search.search(/[?&]rb_clickid=/),p="string"===typeof y.search&&-1!=y.search.search(/[?&]tmr_debug=1(?:&|$)/),bb=Fa||ib||yc||zc,sc=!Ac,tc=Fa,ab=!1,R=f.performance&&"visibilityState"in k,Bc=[36383],Cc=!(Fa||ib),wc=!0,Dc=xc||ib,Nb=f.JSON&&f.JSON.stringify&&f.JSON.parse,la="onpageshow"in f&&"onpagehide"in f,va=Nb?f.JSON.stringify.bind(f.JSON):function(a){return""},Mb=Nb?f.JSON.parse.bind(f.JSON):function(a){return{}},rb="POST",sb="application/x-www-form-urlencoded",
ka=!(0===y.hostname.search(/^(\d+.)+\d+$/g)||-1!==y.hostname.search(/:/g)),ja=null,na=ec(),Ua={domain:fc(),path:"/",expires:287712E5};(function(){var a;if(a=k.cookie.match(RegExp("(?:^|; )(tmr_tcdhn\\d+)=([^;]*)","g"))){for(var b=[],c,d=0,e=a.length;d<e;d++)c=a[d],(c=c.match(/(?:^|; )(tmr_tcdhn\d+)=([^;]*)/))&&b.push(c.slice(1));a=b}else a=null;if(a){d=0;for(e=a.length;d<e;d++)b=a[d][0],Ta(b,Ua)}})();var Aa=!1,Ya=null,Jb=864E5,Ib="tmr_detect",Ec=function(){function a(a,b){for(var c=a.length,g,h,m=
0;m<b;m++)h=Math.floor(Math.random()*c),g=a[m],a[m]=a[h],a[h]=g;return a.slice(0,b)}function b(b,e){var l=k.createElement("div"),g=String.fromCharCode(97,100,118,98,108,111,99,107,32,97,100,118,101,114,116,98,108,111,99,107,32,97,100,118,101,114,116,66,108,111,99,107,32,98,45,114,98,32,98,97,110,110,101,114,95,50,52,48,32,112,45,116,97,114,103,101,116,32,112,117,98,95,51,48,48,120,50,53,48,32,112,117,98,95,51,48,48,120,50,53,48,109,32,112,117,98,95,55,50,56,120,57,48,32,114,98,95,98,111,100,121,32,
114,98,45,102,108,111,97,116,105,110,103,32,114,98,45,115,108,111,116,32,114,98,45,118,105,100,101,111,45,119,105,100,103,101,116,32,116,101,120,116,45,97,100,32,116,101,120,116,45,97,100,45,108,105,110,107,115,32,116,101,120,116,45,97,100,115,32,116,101,120,116,45,98,97,110,110,101,114,32,116,101,120,116,95,97,100,32,116,101,120,116,95,97,100,115,32,116,101,120,116,65,100,32,116,101,120,116,97,100,32,116,101,120,116,65,100,115,32,116,101,120,116,97,100,115,32,116,103,98,45,98,97,110,110,101,114,
32,116,114,103,45,98,45,98,97,110,110,101,114,45,98,108,111,99,107).split(" "),g=a(g,c);l.setAttribute("class",g.join(" "));l.setAttribute("style","position: absolute !important; top: -9999px !important; left: -9999px !important; width: 1px !important; height: 1px !important;");l.setAttribute("id","trg-b-banners-1");l.setAttribute("data-view","SlotView.mimic");this.bait=k.body.appendChild(l);this.bait.offsetParent;this.bait.offsetHeight;this.bait.offsetLeft;this.bait.offsetTop;this.bait.offsetWidth;
this.bait.clientHeight;this.bait.clientWidth;this.loopNumber=0;this.fnPositive=b||null;this.fnNegative=e||null;var h=this;setTimeout(function(){h._checkBait.call(h)},1)}var c=7;b.prototype._checkBait=function(){if(Aa)this._stop();else{var a=null!==k.body.getAttribute("abp")||!ob(this.bait,!0);(!0===a||10<=++this.loopNumber)&&this._stop();var b;if(a&&this.fnPositive)try{b=this.fnPositive,b()}catch(c){p&&console.warn("[TopMailRu] Error#1.9",c)}else if(!a&&10>this.loopNumber){var g=this;setTimeout(function(){g._checkBait.call(g)},
50*this.loopNumber)}else try{b=this.fnNegative,b()}catch(h){p&&console.warn("[TopMailRu] Error#1.10",h)}}};b.prototype._stop=function(){try{k.body.removeChild(this.bait)}catch(a){p&&console.warn("[TopMailRu] Error#1.11",a)}};return function(a,c){new b(a,c)}}(),D=null,Ob="ecommerce",T="dataLayer",da=null,jb=!1,Oa=[],Fc=[36383,2540645,3171181,3074137,2057653],Gc=[],kb;(function(){function a(a,b){for(var c=0,d=b.length;c<d;c++)-1===a.indexOf(b[c])&&a.push(b[c])}function b(b,c,d){for(var e={ecom_method:[],
ecom_type:[],ecom_data:{events:[]}},l=0,g=b.length;l<g;l++){var h=r[b[l]];if(h){a(e.ecom_method,[b[l]]);for(var m=0,t=h.length;m<t;m++)for(var f=0,q=d.length;f<q;f++){var k=h[m][d[f]];if(k)for(var u=0,n=c.length;u<n;u++)if(-1!==h[m].type.indexOf(c[u])){a(e.ecom_type,[c[u]]);a(e.ecom_data.events,k);break}}}}return e}function c(a,b,c){if(!a||!c||!(b in r))return null;for(var d,e=0,l=r[b].length;e<l;e++)if(d=r[b][e],c in d&&-1!==d[c].indexOf(a))return{ecom_method:[b],ecom_type:d.type.slice(),ecom_data:{}};
return null}function d(a){for(var d=[],g,f,r=0,Hc=a.length;r<Hc;r++)if(f=a[r]){g=null;try{if(f.ecommerce)g=e(f)||l(f);else if(null===f.ecommerce)g=null;else if(f.event){var Pb={event:f.event,ecommerce:{}};g=e(Pb)||l(Pb)}else if("event"===f[0]){var n=f[1],Ic=f[2],B=c(n,m,t);B&&(B.ecom_data[n]=Ic);g=B}else if(f.event===Ob)a:{for(var Ga=b([h],[k],[q]),G=0,u=Ga.ecom_data.events.length;G<u;G++)if(!f.hasOwnProperty(Ga.ecom_data.events[G])){g=null;break a}delete Ga.ecom_data.events;Ga.ecom_data[Ob]=f;g=
Ga}}catch(x){p&&console.warn("[TopMailRu] Error#1.23",x),g=null}g&&(d.push(g),Oa.push(g))}if(d.length){a=0;for(g=d.length;a<g;a++)xb(Pa,d[a]);D||(D=[0,0,T]);D[0]+=d.length;g=a=0;for(r=d.length;g<r;g++)a+=va(d[g].ecom_data).length;D[1]+=a}}function e(a){var b,d;for(d in a.ecommerce)if(a.ecommerce.hasOwnProperty(d)&&(b=c(d,h,n))){if(a.event&&(d=c(a.event,h,x)))for(var e=0,g=b.ecom_type.length;e<g;e++)-1===d.ecom_type.indexOf(b.ecom_type[e])&&(b.ecom_type.splice(e,1),g--,e--);b.ecom_data=a.ecommerce;
return b}return null}function l(a){var b=a.event,d=c(b,h,x);d&&(d.ecom_data[b]=a.ecommerce);return d}function g(a){if((a=f[a])&&"function"===typeof a.push)d(a),da=a.push,a.push=function(){var a=da.apply(this,arguments);d([].slice.call(arguments,0));return a}}var h="push",m="gtag",k="gse",n="inner",x="outer",t="external",q="required",r={};r[m]=[{type:["gee"],external:"add checkout checkout_option checkout_progress click detail promo_click remove select_content set_checkout_option view_refund".split(" ")},
{type:["ga4"],external:"earn_virtual_currency join_group level_end level_start level_up post_score select_content spend_virtual_currency tutorial_begin tutorial_complete unlock_achievement ad_impression login search share sign_up add_payment_info add_shipping_info add_to_wishlist generate_lead select_item select_promotion view_cart view_item_list".split(" ")},{type:["gee","ga4"],external:"add_to_cart begin_checkout purchase refund remove_from_cart view_item view_promotion".split(" ")}];r[h]=[{type:[k],
required:["transactionId","transactionTotal"]},{type:["ga4"],outer:b([m],["ga4"],[t]).ecom_data.events},{type:["gee"],inner:"click checkout checkout_option impressions promoClick promoView refund".split(" "),outer:"addToCart checkout checkoutOption productClick productDetail ProductImpressions promotionClick promotionView removeFromCart transactionPush".split(" ")},{type:["ym","gee"],inner:["add","detail","purchase","remove"]},{type:["mt"],outer:["mt_order","mt_refund"]}];kb=function(a){if(!(a===
T&&da)){a!==T&&(Oa=[]);var b=f[T];b&&"function"===typeof b.push&&da&&(b.push=da,da=null);g(a);jb=!0}}})();var yb=function(){var a=[{id:"gtag",globalVars:["google_tag_manager"]},{id:"ga",globalVars:["GoogleAnalyticsObject"]},{id:"ym",globalVars:["Ya",{re:"yaCounter\\d+"}]},{id:"vk",globalVars:["VK"]},{id:"vk",globalVars:["vkAsyncInit"]}],b={};return function(){var c;try{c=Object.keys(f).join(",")}catch(d){c=null}for(var e=[],l,g=0,h=a.length;g<h;g++){l=b[a[g].id];if(void 0===l)a:{l=a[g].globalVars;
for(var m=c,k=0,n=l.length;k<n;k++){var p=l[k];if("string"===typeof p&&!(p in f)||"string"===typeof p.re&&(m&&-1===m.search(RegExp("($|,)"+p.re+"(,|^)","m"))||1===n)){l=!1;break a}}l=!0}l&&(b[a[g].id]=!0,ia(a[g].id,e)||e.push(a[g].id))}return e}}(),jc=yb,Ab=864E5,zb="tmr_floc",Db=null;(function(a){try{k.interestCohort&&"function"===typeof k.interestCohort&&k.interestCohort().then(function(a){Db={id:a.id,version:a.version};a=[a.id,a.version];var b=A();a=a.concat(b).join("|");ra(zb,a,{path:"/",expires:Ab})},
function(){})}catch(b){}})();var Ka=null,pa=null;(function(){function a(a){try{var m=a.state;pa=m in f?f[m]:e;if(Dc)try{m===d?(C[c].getCurrentPosition(b),g||(g=C[c].watchPosition(b))):g&&(C[c].clearWatch(g),b(null))}catch(k){}}catch(n){}}function b(a){if(a)try{var b=a.coords,b=[b.latitude,b.longitude,b.accuracy,b.altitude,b.altitudeAccuracy,b.heading,b.speed];a=0;for(var c=b.length;a<c;a++)"number"!==typeof b[a]&&(b[a]="");b.splice(0,0,pa);Ka=b.join("/")}catch(d){}else Ka=pa}var c="geolocation",d=
"granted",e="u",f={denied:"d"};f[d]="g";f.prompt="p";var g=null;(function(){pa=e;b(null);try{c in C?C.permissions&&C.permissions.query({name:c}).then(function(b){a(b);b.onchange=function(){a(b)}}):pa="n"}catch(d){}})()})();var ca={support:!1},ca=function(){function a(){e(g)}function b(){e(g,t)}function c(a){a.persisted&&(q[g]=null,q[h]=null,e(g,p))}function d(){return m?!k[m]:null}function e(a,b){var c=A(),e="undefined"===typeof b?d():b;if(null===q[a])q[a]={ts:c,state:e,total:0};else{var g=q[a];if(g.state!==
e&&!(g.state===t&&e!==p)){var f=c-g.ts,h=g.state;g.ts=c;g.state=e;f<l||(h===p?(g.total+=f,r&&r(c,f)):h===x&&xa&&xa(c,f))}}}var l=5,g="auto",h="user",m=null,n=null,p=!0,x=!1,t=null;"hidden"in k?(m="hidden",n="visibilitychange"):"mozHidden"in k?(m="mozHidden",n="mozvisibilitychange"):"webkitHidden"in k?(m="webkitHidden",n="webkitvisibilitychange"):"msHidden"in k&&(m="msHidden",n="msvisibilitychange");var q={};q[g]=null;var r=q[h]=null,xa=null;return{support:!!m,auto:function(d,e){r=d||null;xa=e||null;
m&&(a(),s(k,n,a));la?(s(f,"pageshow",c),s(f,"pagehide",b)):(s(f,"beforeunload",b),s(f,"unload",b))},set:function(a){e(h,!!a)},getLog:function(){var a=A(),b={},c,d;for(d in q)c=q[d],b[d]=c?c.total:0,c&&c.state&&(b[d]+=a-c.ts);return b},getValue:d}}();ca.auto();var Qb={enabled:!1},ea=function(){function a(a,b){var c=(""+a).match(e),d={};d[g]=c;for(var f=0,l=c.length;f<l;f++)c[f]&&(d[m[f]]=c[f]);c=1<arguments.length&&void 0!==b;delete d[g];return c&&!0!==b?d[b]||null:d}function b(a,b){var d;d=(""+a).match(f)||
[];var e={};e[g]=d;if(d.length){for(var h=0,m=d.length;h<m;h++)d[h]&&(e[k[h]]=d[h]);d=e}else d=null;if(!d)return null;if((e=1<arguments.length&&void 0!==b)&&(-1!==n.indexOf(b)||!0===b))for(var h=d,s=0,A=n.length;s<A;s++)(m=c(p[s]||"",h,s))&&(h[n[s]]=m);delete d[g];return e&&!0!==b?d[b]||null:d}function c(a,b,d){var e="",g;if(N(a)&&"data"in a)e="index"in a?(b[a.data]||[])[a.index]||"":c(a.data,b,d),"re"in a&&(e=Vb(e,a.re,a.reMatchIndex)||""),e&&(g=c(a.pre||"",b,d),a=c(a.post||"",b,d),e=g+e+a);else if(V(a)){g=
0;for(var f=a.length;g<f;g++)e+=c(a[g],b,d)}else e=k.indexOf(a),-1===e&&(e=n.indexOf(a),e>=d&&(e=-1)),e=-1!==e?b[a]||"":""+a;return e}function d(a){var b;if(V(a)){b=[];for(var c=0,e=a.length;c<e;c++)b.push(d(a[c]));return b}b=a instanceof RegExp?a:RegExp("^"+pb(a)+"$");return b.test(ea.parse(y.href,"domain"))?null:b}var e=/^((mailto|tel|fax|modem)\:)(.*)$/,f=/^(?:([a-z]+):(?:([a-z]*):)?\/\/)?(?:([^:@]*)(?::([^:@]*))?@)?(?:((?:[a-z0-9_-]+\.)+[a-z]{2,}|localhost|(?:(?:[01]?\d\d?|2[0-4]\d|25[0-5])\.){3}(?:(?:[01]?\d\d?|2[0-4]\d|25[0-5]))))(?::(\d+))?(?:([^:\?\#]+))?(?:\?([^\#]+))?(?:\#([^\s]+))?$/i,
g="_raw",h="hash",h="hash",m=["href","protocol","contactBy","contactTo"],k=["href","scheme","subscheme","user","pass","hostname","port","pathname","query",h],n=["protocol","auth","host","domain","path","search",h,"fileExtension"],p=[{data:["scheme",{pre:":",data:"subscheme"}],post:":"},[{data:"user",post:{pre:":",data:"pass"}}],[{data:g,index:5,post:{pre:":",data:"port"}}],{data:"host",re:/^(?:w{3}.)?(.*)$/,reMatchIndex:1},["pathname",{pre:"?",data:"query"}],{pre:"?",data:"query"},{pre:"#",data:h},
{data:"pathname",re:/.\.([^\.]+)$/,reMatchIndex:1}];return{parse:function(c,d){return!c?null:e.test(""+c)?a(c,d):b(c,d)},getIsDomainRE:d,getDomainMask:function(a,b,c){b=(b&&0<b?b:2)-1;var d=1;a=(""+a).replace(RegExp("^.*(?:\\.((?:[^\\.]+\\.){"+b+"}[^\\.]+$))"),"$1");if(d=a.match(/\./g))d=d.length;a="(?:^|\\.{"+(b-d+1)+"})"+pb(a)+"$";return RegExp(c?"^((?!"+a+").)*$":a)}}}(),Rb=function(){var a="checkbox color date datetime-local email file month number password radio range search tel text time url week".split(" ");
return{analyze:function(b){if(!b)return null;for(var c=[].slice.apply(b.elements),d=[],e=[],f=0,g=c.length;f<g;f++){var h;a:switch(h=c[f],h.tagName.toLowerCase()){case "button":h=!1;break a;case "input":var m=h.type.toLowerCase();if(m&&-1===a.indexOf(m)){h=!1;break a}default:h=ob(h,!1)&&h.name&&!1===h.disabled}h&&(d.push(c[f].name),e.push(c[f].type))}return{node:b,inputsName:d.length?d:null,inputsType:e.length?e:null}},getFormByInput:function(a){if(!a)return null;a=a.form||a.getAttribute("form");
return"string"===typeof a?document.getElementById(a)||null:a instanceof HTMLElement?a:null}}}(),Qb=function(){function a(a){a=a||f.event;var c=(a.which||a.keyCode)===K;if("which"in a&&a.which===I||"button"in a&&a.button&I||c){a:{a=a.target||a.srcElement;for(var c=0,d=g.length;c<d;c++){var k;b:{k=a;for(var B=g[c],q=0,G=B.types.length;q<G;q++){var u;c:{var t=k;u=B.types[q];var r=null;if(u.filter.tagName)for(var s=0,v=u.filter.tagName.length;s<v&&!(r=nb(t,u.filter.tagName[s]));s++);else r=t;if(r){if(u.filter.attr)for(t in t=
void 0,u.filter.attr)if(u.filter.attr.hasOwnProperty(t)&&(s=u.filter.attr[t],v=r[t],!0===s&&!v||!1===s&&v||V(s)&&-1===s.indexOf(v))){u=null;break c}u={source:r,type:u.type,detail:r.tagName}}else u=null}if(u){u.category=B.category;k=u;break b}}k=null}if(k){a=k;break a}}a=null}if(a){if(a.category===e){if(a.data=ea.parse(a.source.href,!0),!a.data)return}else if(a.category===l){if(a.data=Rb.analyze(Rb.getFormByInput(a.source)),!a.data)return}else return;c=w;if(c.enabled&&c.modes){d=0;for(k=c.modes.length;d<
k;d++)if(B=a,q=c.modes[d],B.category===q.mode)if(B.category===e||B.category===l){if(q=q.categories,B.data){G=void 0;c:{G=0;for(u=q.length;G<u;G++){for(var r=B,t=q[G],s={category:B.category},v=[],C=0,fa=t.types.length;C<fa;C++){var y=t.types[C],E=W({type:t.category},s),L=x in y,D;A in y?D=b(r,y,E,A):L&&(D=W({source:r.source,data:r.data,detail:y.type},E));if(D&&(!L||!b(r,y,E,x)))if(v.push(D),(y.rule&z)!==z)break}if(r=v.length?v:null){G=r;break c}}G=null}if(G){B=0;for(q=G.length;B<q;B++)c:{u=G[B];r=
{type:"sendEvent",category:"_"+u.category,action:u.detail};if(u.category===e&&(u.type===h||u.type===m)){if(r.label=u.data.href,!r.label)break c}else if(u.category===n&&(r.label=u.data.node.action,!r.label))break c;_tmr.push(r)}}}}else p&&console.warn("[TopMailRu] Error#1.24","Not found tracking for type",B.type)}}}}function b(a,b,d,e){var g=!1,f=b[e];if(V(f)){var h=b[e+"Rule"]||v;e=(h&t)===t;for(var h=(h&q)===q,l=0,k=f.length;l<k&&!(g=c(a,f[l]),e&&g);l++)if(h&&!g)return null}else g=c(a,f);return!g?
null:W({source:a.source,data:a.data,detail:b.type},d)}function c(a,b){var c=b.rule||v,e=(c&t)===t,c=(c&q)===q,g=!1,f;for(f in b)if(b.hasOwnProperty(f)&&"rule"!==f){var g=b[f],h=a.data[f],g=!0===g?!!(V(h)?h.length:h):!1===g?!(V(h)?h.length:h):d(h,g);if(e&&g)break;else if(c&&!g)return!1}return g}function d(a,b){var c=a;if(c)if(V(c)){if(!c.length)return!1}else c=[c];else return!1;var d=b,e=v;if(N(d)&&!V(d)){if(!V(d.value))return!1;e=d.rule||e;d=d.value}a:{for(var g=(e&r)===r,f=(e&t)===t,e=(e&q)===q,
h=!1,l=0,k=d.length;l<k;l++){var m=d[l];if(m){var n="string"===typeof m;n&&!g&&(m=m.toLowerCase());var p=m instanceof RegExp;if(n||p){var h=!0,s;b:{s=c;for(var A=g,x=0,y=s.length;x<y;x++){var z=A?s[x]:s[x].toLowerCase();if(p&&m.test(z)||n&&m===z){s=!0;break b}}s=!1}if(f&&s){c=!0;break a}else if(e&&!s){c=!1;break a}}}}c=f?!1:e?h?!0:!1:void 0}return c}var e="click",l="submit",g=[{category:l,types:[{type:"button",filter:{tagName:["input","button"],attr:{type:["submit","image"]}}}]},{category:e,types:[{type:"a",
filter:{tagName:["a"],attr:{href:!0}}}]}],h="file",m="resource",n="submit",A="filter",x="stop",t=1,q=2,r=4,z=8,v=t,w={enabled:!0,modes:[{mode:l,categories:[{category:n,types:[{type:"lead",filter:[{inputsName:["phone"],inputsType:["tel"],rule:t},{inputsName:["email"],inputsType:["email"],rule:t}],filterRule:q,stop:{inputsName:{value:["password"]}}},{type:"form",filter:{inputsName:!0}}]}]},{mode:e,categories:[{category:"contact",types:[{type:"email",filter:{contactBy:["mailto"]}},{type:"phone",filter:{contactBy:["tel"]}}]},
{category:h,types:[{type:"file",filter:{fileExtension:"7z bz2 gz apk iso cab dmg msi rar tar zip exe txt doc docx ppt pptx xls xlsx csv pdf psd rtf ods djvu eps 3gp aac ac3 avi flac flv divx midi mka mkv mp3 mp4 mpeg mpg mov ogg vob wav webm wma wmf wmv torrent".split(" ")}}]},{category:m,types:[{type:"outgoing",rule:z,stop:{domain:[ea.getDomainMask(ea.parse(y.href,"domain"),3,!1)],href:[/password/]}},{type:"messenger",filter:{domain:ea.getIsDomainRE("vk.me t.me telegram.me telegram.im web.telegram.org m.me web.whatsapp.com api.whatsapp.com chat.whatsapp.com wa.me".split(" "))},
stop:{href:[/password/]}},{type:"social",filter:{domain:ea.getIsDomainRE("vk.com vkontakte.ru m.vk.com vk.ru ok.ru m.ok.ru odnoklassniki.ru facebook.com m.facebook.com fb.com twitter.com linkedin.com instagram.com tiktok.com youtube.com youtu.be m.youtube.com".split(" "))},stop:{href:[/password/]}}]}]}]},I=1,K=13;return{enabled:!0,start:function(){s(k,"click",a);s(k,"keypress",a)}}}();Cc&&Qb.start();var z=function(){function a(){b(null)}function b(a){e();a?(X=a===fa,ma=a):ma=W&&null!==X?X?fa:Y:k.visibilityState;
a=w();for(var b in ga)r(b,a)}function c(){if(!1!==P){L(f,Z,ea);ea=null;f.clearInterval(ja);ka=ja=null;L(k,M,ba);ba=null;W&&(L(f,R,ca),L(f,S,da),da=ca=null);l(!0);for(var a in $){var b=a,c=$[b];c&&(c=c.key,N(b),F(),delete $[b],B(null,c))}H=null;ha=[];ta=[];J={};$={};ga={};P=!1}}function d(a,b,c){var d=a+"_"+b;if(d in J)return!1;var e=A(),g=w(),f=C(d,e,Za);b=J[d]={id:a||null,name:b,key:f,canUseInBackground:!!c,startTS:e,updateTS:g,timespent:{}};if(a)if(ta.push(d),d=b.canUseInBackground,b=ga[a]){if(c=
b.isActive,!c&&(e=H&&ia(a,H)))if(c=ma===fa||d)b.updateTS=g,b.isActive=!0}else e=H&&ia(a,H),c=ma===fa||d,ga[a]={isActive:e&&c,updateTS:g,timespent:{}};else ha.push(d);return!0}function e(a,b){var c,d;2>arguments.length?(c=ta.concat(ha),d=G):(c=[a+"_"+b],d=Q);g(c,d)}function l(a,b,c){var d=!1,e=[],f=[];2>arguments.length?(e=ta.slice(),(d=!!arguments[0])&&(e=e.concat(ha))):(d=a+"_"+b,-1!==ta.indexOf(d)?e=[d]:-1!==ha.indexOf(d)&&(c?e=[d]:f=[d]));g(e,T);g(f,Q)}function g(a,b){var c=w(),d=[],e,g,f;e=0;
for(g=a.length;e<g;e++)f=a[e],-1!==ta.indexOf(f)?h(f,b,c):-1!==ha.indexOf(f)&&d.push(f);e=0;for(g=d.length;e<g;e++)f=d[e],h(f,b,c);if(b===G&&(U=c,U-P>=pa)){for(var l in J)n(l);for(l in $)if(c=l,d=$[c])N(c),B(c,d.key);P=U}}function h(a,b,c){var d=J[a];if(d&&!1!==d.updateTS)if(d.timespent[ma]=(d.timespent[ma]||0)+(c-(d.updateTS||U)),-1!==ha.indexOf(a)&&y(null,c),b===T)d.updateTS=!1,n(a);else if(b===u){d.updateTS=c;var e;a:{if(b=J[a])for(e in b.timespent)if(b.timespent[e]>oa){e=!1;break a}e=!0}e?(m(a),
F()):n(a)}else d.updateTS=b===G?null:c,m(a),F()}function m(a,b,c){var d=J[a];if(!d)return null;var e=b||d.key;b=O[e];O[e]={uid:a,name:d.name,counterID:c||d.id||H,canUseInBackground:d.canUseInBackground,isActive:!1!==d.updateTS,startTime:d.startTS,timespent:{}};a=O[e].timespent;var d=d.timespent,g;for(g in d)a[g]=d[g];if(c&&(c=ga[c]))if(e=O[e]){e.common={};e=e.common;c=c.timespent;for(var f in c)e[f]=c[f]}return b||null}function n(a){var b=J[a];b&&(m(a),p(a,b.key))}function p(a,b){var c=O[b];if(c)if(V(c.counterID)){var d=
O[b];if(d){var c=d.counterID,e=[],g,f,h,l;if(c){h=0;for(l=c.length;h<l;h++){f=c[h];g=C(b,f);e.push(g);f=m(a||d.uid,g,f);var k=void 0;f&&(k=O[g],D(k.timespent,f.timespent),f.common&&(k.common=k.common||{},D(k.common,f.common)))}}delete O[b];F();if(a&&a in J)if(d.isActive){t(a);h=0;for(l=c.length;h<l;h++)if(d=ga[c[h]])for(var n in d.timespent)d.timespent[n]=0}else q(a);h=0;for(l=e.length;h<l;h++)x(e[h])}}else if(n=O[b])(c=a&&a in J)&&!n.isActive&&q(a),e=x(b),c&&(e&&n.isActive)&&t(a)}function x(a){var b;
if(b=O[a]){var c=E(b.timespent);if(!1===b.canUseInBackground&&b.isActive&&0===c.fg)b=null;else{c=[b.name,b.startTime,b.canUseInBackground?1:0,c.fg,c.bg];if(b.common){var d=E(b.common);(d.fg||d.bg)&&c.push(d.fg,d.bg)}b={id:b.counterID,msg:c.join("/")}}}else b=!1;if(!b)return!1;c=";e="+escape("TS:"+b.msg);I(K({id:b.id},"/tracker",!1,!1)+c);delete O[a];F();return!0}function t(a){if(a=J[a])for(var b in a.timespent)a.timespent[b]=0}function q(a){if(a in J){var b;-1!==(b=ha.indexOf(a))&&ha.splice(b,1);
if(-1!==(b=ta.indexOf(a)))if(ta.splice(b,1),b=J[a].id){var c=ga[b];if(c){var d=c.isActive;d&&z(c,w());d=v(b,a);d||(c.isActive=!1)}}delete J[a]}}function r(a,b){var c=ga[a];if(c){var d=H&&ia(a,H),e=v(a);c.isActive=d&&e;c.updateTS=b}}function y(a,b){if(a){var c=ga[a];c&&(c.isActive?z(c,w()):c.updateTS=b)}else for(c in ga)y(c,b)}function v(a,b){for(var c in J)if(c!==b&&J[c].id===a&&(ma===fa||J[c].canUseInBackground))return!0;return!1}function z(a,b){a&&(a.timespent[ma]=(a.timespent[ma]||0)+(b-a.updateTS),
a.updateTS=b)}function C(a){return[].join.call(arguments,"_")}function D(a,b){for(var c in b)a[c]=(a[c]||0)+(b[c]||0)}function E(a){var b=a[fa]||0,c=0,d;for(d in a)d!==fa&&(c+=a[d]);return{fg:b,bg:c}}function w(){return Math.floor(f.performance.now())}function F(){if(na){var a={};a[ra]=O;a[sa]=ua;Ja(qa,va(a)||"")}}function N(a){var b=$[a];b&&(ua[b.key]={uid:a,name:b.name,counterID:b.id,value:b.value})}function B(a,b){if(ua[b]){var c;if(c=ua[b])if(0===c.value)c=null;else{var d=[c.name,c.value].join("/");
c={id:c.counterID,msg:d}}else c=!1;c&&(d=";e="+escape("TS:"+c.msg),I(K({id:c.id},"/tracker",!1,!1)+d));!1!==c&&(delete ua[b],F());if(c&&a&&(c=$[a]))c.value=0}}var Q=1,G=2,u=4,T=8,Z=la?"pagehide":"unload",M="visibilitychange";"mozHidden"in k?M="mozvisibilitychange":"webkitHidden"in k?M="webkitvisibilitychange":"msHidden"in k&&(M="msvisibilitychange");var R="focus",S="blur";"onfocusin"in k&&(R="focusin",S="focusout");var fa="visible",Y="hidden",aa=["0"],W=!1,oa=100,pa=12E4,P=!1,U=!1,H=null,ha=[],ta=
[],J={},ma,X=null,ja,ka,ba,ca,da,ea,qa="tmr_tslog",ra="activity",sa="count",O={},$={},ua={},ga={};return{init:function(){if(na){var a=Mb(Ia(qa)||"{}");O=a[ra]||{};ua=a[sa]||{}}for(var b in O)p(null,b);for(b in ua)B(null,b)},launch:function(){!1===P&&(P=w(),U=w(),ma=W&&null!==X?X?fa:Y:k.visibilityState,ea=c.bind(f),s(f,Z,ea),ka=a.bind(f),ja=f.setInterval(ka,1E4),ba=b.bind(f,null),s(k,M,ba),W&&(ca=b.bind(f,fa),da=b.bind(f,Y),s(f,R,ca),s(f,S,da)))},enable:function(a){if(H){if(ia(a,H))return;g(ha,u)}else{for(var b=
0,c=aa.length;b<c;b++)d(null,aa[b],!1);H=[]}H.push(a);r(a,w())},disable:function(a){if(H){var b;a:{b=0;for(var c=H.length;b<c;b++)if(H[b]==a)break a;b=-1}if(-1!==b&&(g(ha,u),H.splice(b,1),b=w(),a=ga[a]))a.isActive=!1,a.updateTS=b}},startActivity:d,updateActivity:e,stopActivity:l,incCount:function(a,b){var c=a+"_"+b,d;if(!(d=$[c]))if(c in $)d=$[c];else{d=A();var e=C(b,d,Za);d=$[c]={id:a,name:b,key:e,startTS:d,value:0}}d&&d.id===a&&(d.value++,N(c),F())},defaultID:function(){return H?H[0]:void 0}}}(),
Wa=!1,oc="60.3.0",Ma=0,Ca=0,Za=qb(16),M=null,oa=null,Ba=0,wa="tmr_reqNum",Q=null;ka&&(Q=X(wa)||null,null!==Q&&Ta(wa,Ua));na&&null===Q&&(Q=Ia(wa)||null);Q=null===Q?0:parseInt(Q,10);na&&Ja(wa,Q);var ba=(ka?X("tmr_lvid"):null)||(na?Ia("tmr_lvid"):null),za=(ka?X("tmr_lvidTS"):null)||(na?Ia("tmr_lvidTS"):null);if(null===ba||-1===ba.search(/^[0-9a-fA-F]+$/))ba=qb(32);ub("tmr_lvid",ba);if(null===za||-1===za.search(/^\d+$/))za=""+A();ub("tmr_lvidTS",za);var Y=0,E=[],Ea=[],Qa=[],Pa=[],Na={},kc="ontouchstart"in
f||1<(C.maxTouchPoints||C.msMaxTouchPoints)?"1":"0",lc=f.devicePixelRatio||0,mc=f.top===f?0:1,ya=null,Sb=f.performance||f.mozPerformance||f.msPerformance||f.webkitPerformance||{},aa=Sb.timing||{},$a=Sb.navigation||{},Eb="unloadEventStart unloadEventEnd redirectStart redirectEnd fetchStart domainLookupStart domainLookupEnd connectStart connectEnd secureConnectionStart requestStart responseStart responseEnd domLoading domInteractive domContentLoadedEventStart domContentLoadedEventEnd domComplete loadEventStart loadEventEnd".split(" "),
Xa=!aa?void 0:aa.navigationStart,Fb="downlink downlinkMax effectiveType rtt saveData type".split(" "),P,lb;P=function(a,b,c){if(b&&"object"===typeof b){var d="id"in b&&b.id||Y,e=c.title||null,f,g=lb(b,{params:c.required,fn:c.fn});if(g.missed.length)console.warn("[TopMailRu]"+(d?"["+d+"]":"")+" Error#1.14","Unspecified "+(1<g.missed.length&&g.missed.slice(0,-1).join(", ")+" and "||"")+g.missed.slice(-1)+" in "+a);else{var h=lb(b,{params:c.optional,fn:c.fn});f=[].concat(g.values).concat(h.values);g=
[].concat(g.missed).concat(h.missed);c.value&&(b="value"in b&&b.value,!0!==c.value&&(b=b||c.value),b?f.push("value: "+b):g.push("value"));c=f.length?"{ "+f.join(", ")+" }":"";f=g.length?"("+(1<g.length?g.slice(0,-1).join(", ")+" and "+g.slice(-1)+" are":g.slice(-1)+" is")+" empty)":"";d?console.info("[TopMailRu]["+d+"]: "+(e||a)+" "+c+" "+f):console.warn("[TopMailRu] Error#1.15","Undefined counter ID of "+a+" "+c)}}else console.warn("[TopMailRu][]["+a+"] Error#1.13")};lb=function(a,b){var c=[],d=
[],e,f,g;if(b.params)for(e in b.params)if(b.params.hasOwnProperty(e)&&!1!==b.params[e])if(f=e in a&&a[e],!0!==b.params[e]&&(f=f||b.params[e]),f)try{g=b.fn?b.fn:null,c.push(e+': "'+(g?g(e,f):f)+'"')}catch(h){console.warn("[TopMailRu] Error#1.16",h)}else d&&d.push(e);return{values:c,missed:d}};var F={},gb=[];n.prototype.callbackOnReady=function(a){p&&P("onReady",a,{title:"OnReady callback"});a&&"object"===typeof a&&"function"===typeof a.callback&&(a.callback.call(a.context||null),la&&gb.push(a))};n.prototype.pageView=
function(a){sa(a);a:if(a&&"object"===typeof a&&a.id){5>Ea.length&&!ia(a.id,Ea)&&(Ea.push(a.id),!1!==a.beat&&Qa.push(a.id),E.push(a),Aa&&wb(a));la&&(Na[a.id]=W(!0,{},a),Na[a.id].bfCache=!0);"detectBlocker"in a&&!a.detectBlocker&&(ab=!0);var b="string"===typeof a.ecommerce,c=b&&-1!==a.ecommerce.search(/\S/);if(5>Pa.length&&!ia(a.id,Pa)&&(!0===a.ecommerce||b&&!c||b&&c||!1!==a.ecommerce&&!b&&(ia(a.id,Fc)||!ia(a.id,Gc)))){Pa.push(a.id);if(b&&c){if(jb&&(kb(a.ecommerce),T!==a.ecommerce)){T=a.ecommerce;D&&
(D=[0,0,T]);break a}T=a.ecommerce;D&&(D=[0,0,T])}b=[a.id];if(jb)for(var c=0,d=Oa.length;c<d;c++)xb(b,Oa[c])}a.timespent=R&&(a.timespent||ia(a.id,Bc)&&!1!==a.timespent);a.timespent?z.enable(a.id):z.disable(a.id);Wa&&5>Ea.length&&Bb([a.id])}p&&P("pageView",a,{title:"Page view",optional:{url:y.href}});Z(a)&&(I(K(a,"/counter",!1,!0)),Ca=A())};n.prototype.reachGoal=function(a){sa(a);p&&P("reachGoal",a,{title:"Reach goal",value:!0,required:{goal:!0}});if(Z(a)&&"goal"in a&&a.goal){var b="value"in a&&a.value?
parseInt(a.value)||"":"";I(K(a,"/tracker",!1,!0)+(";e="+escape("RG:"+b+"/"+a.goal)))}};var cb="VALUE";n.prototype.itemView=function(a){p&&P("itemView",a,{title:"Item view",optional:{list:!0,pagetype:!0,productid:!0,totalvalue:!0},fn:function(a,b){return(""+b).replace(/;/g," ")}});if(Z(a)){var b=a.list||"",c=a.productid||"",d=a.pagetype||"",e=a.totalvalue||0,f=uc(a.id,d,e,c);f&&this.reachGoal(f);(new Image).src="https://ad.mail.ru/retarget/?counter="+(a.id||Y)+"&list="+b+"&productid="+c+"&pagetype="+
d+"&totalvalue="+e+"&_="+Math.random();b="IV:"+e+"/"+(""+b).replace(/;/g," ")+";"+(""+c).replace(/;/g," ")+";"+(""+d).replace(/;/g," ");I(K(a,"/tracker",!1,!0)+(";e="+escape(b)))}};var vc="vk_ecom_";n.prototype.sendEvent=function(a){sa(a);p&&P("sendEvent",a,{title:"Send event",value:!0,required:{category:!0,action:!0},optional:{label:!0},fn:function(a,b){return(""+b).substring(0,300).replace(/;/g," ")}});if(Z(a)&&"category"in a&&a.category&&"action"in a&&a.action){var b=(""+a.category).substring(0,
300),c=(""+a.action).substring(0,300),d="label"in a&&a.label?(""+a.label).substring(0,300):"",b="CE:"+("value"in a&&a.value?parseInt(a.value)||"":"")+"/"+(""+b).replace(/;/g," ")+";"+(""+c).replace(/;/g," ")+";"+(""+d).replace(/;/g," ");I(K(a,"/tracker",!1,!0)+(";e="+escape(b)))}};n.prototype.setUserID=function(a){if(null===a||!1===a||void 0===a)this.deleteUserID();else{var b=typeof a;"number"!==b&&"string"!==b?p&&console.warn("[TopMailRu] Error#1.17","Invalid user ID in setUserID"):(M=a,p&&console.info("[TopMailRu]: Global user ID = "+
M))}};n.prototype.getUserID=function(){return M||0===M?M:void 0};n.prototype.deleteUserID=function(){M=null;p&&console.info("[TopMailRu]: Reset global user ID to null")};n.prototype.setUserParams=function(a){if(null===a||!1===a||void 0===a)this.deleteUserParams();else if(N(a)){try{oa=W(!0,{},a)}catch(b){p&&console.warn("[TopMailRu] Error#1.22","Invalid user params in setUserParams");return}p&&console.info("[TopMailRu]: Global user params = "+va(oa))}else p&&console.warn("[TopMailRu] Error#1.21","Invalid user params in setUserParams")};
n.prototype.getUserParams=function(){var a=oa?oa:void 0;return a?W(!0,{},a):void 0};n.prototype.deleteUserParams=function(){oa=null;p&&console.info("[TopMailRu]: Reset global user params to null")};n.prototype.getClientID=function(){var a=ba;return a||0===a?a:void 0};n.prototype._MT_event=function(a,b,c){sa(a);p&&P(b,a,{title:c});Z(a)&&I(K(a,"/tracker",!1,!0)+(";e="+escape("MT:/"+b)))};n.prototype.miniAppEvent=function(a){this._MT_event(a,"miniAppEvent","VK Mini App Event")};var mb=function(a,b){if(R){var c=
z.defaultID();Z(a,c)&&(!N(a)||!("activity"in a&&a.activity)?p&&console.warn("[TopMailRu] Error#1.27","Invalid startActivity command: ID of activity is required"):z.startActivity(a.id||c,""+a.activity,null===b?!!a.canUseInBackground:b))}};n.prototype.startTimespent=function(a){mb(a,null)};n.prototype.startForegroundTimespent=function(a){mb(a,!1)};n.prototype.startAnytimeTimespent=function(a){mb(a,!0)};n.prototype.updateTimespent=function(a){if(R){var b=z.defaultID();Z(a,b)&&(!N(a)||!("activity"in a&&
a.activity)?z.updateActivity():"number"===typeof a.activity||"string"===typeof a.activity?z.updateActivity(a.id||b,""+a.activity):p&&console.warn("[TopMailRu] Error#1.28","Invalid updateActivity command: ID of activity should be number or string"))}};n.prototype.stopTimespent=function(a){if(R){var b=z.defaultID();Z(a,b)&&(!N(a)||!("activity"in a&&a.activity)?z.stopActivity(!1):"number"===typeof a.activity||"string"===typeof a.activity?z.stopActivity(a.id||b,""+a.activity,!1):p&&console.warn("[TopMailRu] Error#1.29",
"Invalid stopActivity command: ID of activity should be number or string"))}};n.prototype.incrementEventTimespent=function(a){if(R){var b=z.defaultID();Z(a,b)&&(!a||!("activity"in a&&a.activity)?p&&console.warn("[TopMailRu] Error#1.31","Invalid incrementEventTimespent command: ID of countable activity is required"):z.incCount(a.id||b,""+a.activity))}};n.prototype.processEvent=function(a,b){if(a&&"object"===typeof a)if("type"in a){if("onready"===a.type){if(b&&0>b)return;this.callbackOnReady(a)}else if(b&&
0<b)return;switch(a.type){case "pageView":this.pageView(a);break;case "reachGoal":this.reachGoal(a);break;case "itemView":this.itemView(a);break;case "sendEvent":this.sendEvent(a);break;case "setUserID":"userid"in a&&this.setUserID(a.userid);break;case "deleteUserID":this.deleteUserID();break;case "setUserParams":"params"in a&&this.setUserParams(a.params);break;case "deleteUserParams":this.deleteUserParams();break;case "miniAppEvent":this.miniAppEvent(a);break;case "startTimespent":this.startTimespent(a);
break;case "startForegroundTimespent":this.startForegroundTimespent(a);break;case "startAnytimeTimespent":this.startAnytimeTimespent(a);break;case "updateTimespent":this.updateTimespent(a);break;case "stopTimespent":this.stopTimespent(a);break;case "incrementEventTimespent":this.incrementEventTimespent(a)}}else p&&console.warn("[TopMailRu] Error#1.19","Unspecified type of push event");else p&&console.warn("[TopMailRu] Error#1.18","Invalid push event")};n.prototype.push=function(a){for(var b=0,c=arguments.length;b<
c;b++)this.processEvent(arguments[b])};var Tb=!1;n.prototype.onready=function(){Tb||(Tb=!0,!ab&&!Aa&&Ec(pc,qc),kb(T))};var fb=!1;n.prototype.onload=function(){if(!fb){fb=!0;Ba=A();if(!Fa&&0<E.length){for(var a=";e="+escape("RT/load")+";et="+Ba,b=0;b<E.length;b++)I(K(E[b],"/tracker",!0,!0)+a);Ca=Ba}rc()}};n.prototype.beat=function(){var a;if(!bb&&Ma){var b=A();if(!(12E4<b-Ma)){if(12E4<b-Ca){a=";e="+escape("RT/resend")+";et="+Ba;for(var c=0;c<E.length;c++)!1!==E[c].beat&&I(K(E[c],"/tracker",!1,!0)+
a)}else 0<Qa.length&&(a=";e="+escape("RT/beat")+";ids="+escape(Qa.join()),I(K({id:Qa[0]},"/tracker",!1,!0)+a));Ca=b}}};var eb=!1;n.prototype.unload=function(){if(!eb){eb=!0;if(!Fa){var a;a=(a=Cb())?A()-a:void 0;a=";e="+escape("RT/unload")+";et="+A()+(a?";pvt="+escape(a):"");if(ca.support){var b=ca.getLog();a+=";vtauto="+b.auto}for(b=0;b<E.length;b++)I(K(E[b],"/tracker",!1,!0)+a)}la&&(F.pvt2&&(clearTimeout(F.pvt2),delete F.pvt2),F.pvt15&&(clearTimeout(F.pvt15),delete F.pvt15),F.beat&&(clearInterval(F.beat),
delete F.beat))}};n.prototype.activity=function(a){Ma=A()};var qa=_tmr;_tmr=new n;R&&z.init();for(var w=0,Ha=qa.length,U;w<Ha;w++)(U=qa[w])&&"object"===typeof U&&sa(U);w=0;for(Ha=qa.length;w<Ha;w++)U=qa[w],_tmr.processEvent(U,1);w=0;for(Ha=qa.length;w<Ha;w++)U=qa[w],_tmr.processEvent(U,-1);"complete"===k.readyState||"loading"!==k.readyState&&!k.documentElement.doScroll?(_tmr.onready(),Lb()):k.addEventListener?s(k,"DOMContentLoaded",La):k.attachEvent&&s(k,"readystatechange",La);if("complete"===k.readyState)_tmr.onload();
else la?s(f,"pageshow",db):s(f,"load",db);la?s(f,"pagehide",Da):(s(f,"unload",Da),s(f,"beforeunload",Da));Kb();if(!bb)try{for(var Ub="scroll gesturechange touchmove mousedown mousemove mouseup touch".split(" "),Jc=function(a){s(k,a,function(){_tmr.activity(a)})},w=0;w<Ub.length;w++)Jc(Ub[w]);s(f,"scroll",function(){_tmr.activity("scallback")})}catch(Kc){p&&console.warn("[TopMailRu] Error#1.20",Kc)}}})();
